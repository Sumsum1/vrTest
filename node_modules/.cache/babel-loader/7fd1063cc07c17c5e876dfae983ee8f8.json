{"ast":null,"code":"/**\n * @author mrdoob / http://mrdoob.com\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Based on @tojiro's vr-samples-utils.js\n */\nvar WEBVR = {\n  createButton: function createButton(renderer, options) {\n    if (options && options.referenceSpaceType) {\n      renderer.vr.setReferenceSpaceType(options.referenceSpaceType);\n    }\n\n    function showEnterVR(device) {\n      button.style.display = \"\";\n      button.style.cursor = \"pointer\";\n      button.style.left = \"calc(50% - 50px)\";\n      button.style.width = \"100px\";\n      button.textContent = \"ENTER VR\";\n\n      button.onmouseenter = function () {\n        button.style.opacity = \"1.0\";\n      };\n\n      button.onmouseleave = function () {\n        button.style.opacity = \"0.5\";\n      };\n\n      button.onclick = function () {\n        device.isPresenting ? device.exitPresent() : device.requestPresent([{\n          source: renderer.domElement\n        }]);\n      };\n\n      renderer.vr.setDevice(device);\n    }\n\n    function showEnterXR(device) {\n      var currentSession = null;\n\n      function onSessionStarted(session) {\n        session.addEventListener(\"end\", onSessionEnded);\n        renderer.vr.setSession(session);\n        button.textContent = \"EXIT XR\";\n        currentSession = session;\n      }\n\n      function onSessionEnded(event) {\n        currentSession.removeEventListener(\"end\", onSessionEnded);\n        renderer.vr.setSession(null);\n        button.textContent = \"ENTER XR\";\n        currentSession = null;\n      } //\n\n\n      button.style.display = \"\";\n      button.style.cursor = \"pointer\";\n      button.style.left = \"calc(50% - 50px)\";\n      button.style.width = \"100px\";\n      button.textContent = \"ENTER XR\";\n\n      button.onmouseenter = function () {\n        button.style.opacity = \"1.0\";\n      };\n\n      button.onmouseleave = function () {\n        button.style.opacity = \"0.5\";\n      };\n\n      button.onclick = function () {\n        if (currentSession === null) {\n          navigator.xr.requestSession(\"immersive-vr\").then(onSessionStarted);\n        } else {\n          currentSession.end();\n        }\n      };\n    }\n\n    function showVRNotFound() {\n      button.style.display = \"\";\n      button.style.cursor = \"auto\";\n      button.style.left = \"calc(50% - 75px)\";\n      button.style.width = \"150px\";\n      button.textContent = \"VR NOT FOUND\";\n      button.onmouseenter = null;\n      button.onmouseleave = null;\n      button.onclick = null;\n      renderer.vr.setDevice(null);\n    }\n\n    function stylizeElement(element) {\n      element.style.position = \"absolute\";\n      element.style.bottom = \"20px\";\n      element.style.padding = \"12px 6px\";\n      element.style.border = \"1px solid #fff\";\n      element.style.borderRadius = \"4px\";\n      element.style.background = \"rgba(0,0,0,0.1)\";\n      element.style.color = \"#fff\";\n      element.style.font = \"normal 13px sans-serif\";\n      element.style.textAlign = \"center\";\n      element.style.opacity = \"0.5\";\n      element.style.outline = \"none\";\n      element.style.zIndex = \"999\";\n    }\n\n    if (\"xr\" in navigator && \"supportsSession\" in navigator.xr) {\n      var button = document.createElement(\"button\");\n      button.style.display = \"none\";\n      stylizeElement(button);\n      navigator.xr.supportsSession(\"immersive-vr\").then(showEnterXR);\n      return button;\n    } else if (\"getVRDisplays\" in navigator) {\n      var button = document.createElement(\"button\");\n      button.style.display = \"none\";\n      stylizeElement(button);\n      window.addEventListener(\"vrdisplayconnect\", function (event) {\n        showEnterVR(event.display);\n      }, false);\n      window.addEventListener(\"vrdisplaydisconnect\", function (event) {\n        showVRNotFound();\n      }, false);\n      window.addEventListener(\"vrdisplaypresentchange\", function (event) {\n        button.textContent = event.display.isPresenting ? \"EXIT VR\" : \"ENTER VR\";\n      }, false);\n      window.addEventListener(\"vrdisplayactivate\", function (event) {\n        event.display.requestPresent([{\n          source: renderer.domElement\n        }]);\n      }, false);\n      navigator.getVRDisplays().then(function (displays) {\n        if (displays.length > 0) {\n          showEnterVR(displays[0]);\n        } else {\n          showVRNotFound();\n        }\n      }).catch(showVRNotFound);\n      return button;\n    } else {\n      var message = document.createElement(\"a\");\n      message.href = \"https://webvr.info\";\n      message.innerHTML = \"WEBVR NOT SUPPORTED\";\n      message.style.left = \"calc(50% - 90px)\";\n      message.style.width = \"180px\";\n      message.style.textDecoration = \"none\";\n      stylizeElement(message);\n      return message;\n    }\n  },\n  // DEPRECATED\n  checkAvailability: function checkAvailability() {\n    console.warn(\"WEBVR.checkAvailability has been deprecated.\");\n    return new Promise(function () {});\n  },\n  getMessageContainer: function getMessageContainer() {\n    console.warn(\"WEBVR.getMessageContainer has been deprecated.\");\n    return document.createElement(\"div\");\n  },\n  getButton: function getButton() {\n    console.warn(\"WEBVR.getButton has been deprecated.\");\n    return document.createElement(\"div\");\n  },\n  getVRDisplay: function getVRDisplay() {\n    console.warn(\"WEBVR.getVRDisplay has been deprecated.\");\n  }\n};\nexport default WEBVR;","map":{"version":3,"names":["WEBVR","createButton","renderer","options","referenceSpaceType","vr","setReferenceSpaceType","showEnterVR","device","button","style","display","cursor","left","width","textContent","onmouseenter","opacity","onmouseleave","onclick","isPresenting","exitPresent","requestPresent","source","domElement","setDevice","showEnterXR","currentSession","onSessionStarted","session","addEventListener","onSessionEnded","setSession","event","removeEventListener","navigator","xr","requestSession","then","end","showVRNotFound","stylizeElement","element","position","bottom","padding","border","borderRadius","background","color","font","textAlign","outline","zIndex","document","createElement","supportsSession","window","getVRDisplays","displays","length","catch","message","href","innerHTML","textDecoration","checkAvailability","console","warn","Promise","getMessageContainer","getButton","getVRDisplay"],"sources":["C:/Users/PC-05/Downloads/reat-three-fiber-vr/src/three-webvr.js"],"sourcesContent":["/**\n * @author mrdoob / http://mrdoob.com\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Based on @tojiro's vr-samples-utils.js\n */\n\nvar WEBVR = {\n  createButton: function(renderer, options) {\n    if (options && options.referenceSpaceType) {\n      renderer.vr.setReferenceSpaceType(options.referenceSpaceType);\n    }\n\n    function showEnterVR(device) {\n      button.style.display = \"\";\n\n      button.style.cursor = \"pointer\";\n      button.style.left = \"calc(50% - 50px)\";\n      button.style.width = \"100px\";\n\n      button.textContent = \"ENTER VR\";\n\n      button.onmouseenter = function() {\n        button.style.opacity = \"1.0\";\n      };\n      button.onmouseleave = function() {\n        button.style.opacity = \"0.5\";\n      };\n\n      button.onclick = function() {\n        device.isPresenting\n          ? device.exitPresent()\n          : device.requestPresent([{ source: renderer.domElement }]);\n      };\n\n      renderer.vr.setDevice(device);\n    }\n\n    function showEnterXR(device) {\n      var currentSession = null;\n\n      function onSessionStarted(session) {\n        session.addEventListener(\"end\", onSessionEnded);\n\n        renderer.vr.setSession(session);\n        button.textContent = \"EXIT XR\";\n\n        currentSession = session;\n      }\n\n      function onSessionEnded(event) {\n        currentSession.removeEventListener(\"end\", onSessionEnded);\n\n        renderer.vr.setSession(null);\n        button.textContent = \"ENTER XR\";\n\n        currentSession = null;\n      }\n\n      //\n\n      button.style.display = \"\";\n\n      button.style.cursor = \"pointer\";\n      button.style.left = \"calc(50% - 50px)\";\n      button.style.width = \"100px\";\n\n      button.textContent = \"ENTER XR\";\n\n      button.onmouseenter = function() {\n        button.style.opacity = \"1.0\";\n      };\n      button.onmouseleave = function() {\n        button.style.opacity = \"0.5\";\n      };\n\n      button.onclick = function() {\n        if (currentSession === null) {\n          navigator.xr.requestSession(\"immersive-vr\").then(onSessionStarted);\n        } else {\n          currentSession.end();\n        }\n      };\n    }\n\n    function showVRNotFound() {\n      button.style.display = \"\";\n\n      button.style.cursor = \"auto\";\n      button.style.left = \"calc(50% - 75px)\";\n      button.style.width = \"150px\";\n\n      button.textContent = \"VR NOT FOUND\";\n\n      button.onmouseenter = null;\n      button.onmouseleave = null;\n\n      button.onclick = null;\n\n      renderer.vr.setDevice(null);\n    }\n\n    function stylizeElement(element) {\n      element.style.position = \"absolute\";\n      element.style.bottom = \"20px\";\n      element.style.padding = \"12px 6px\";\n      element.style.border = \"1px solid #fff\";\n      element.style.borderRadius = \"4px\";\n      element.style.background = \"rgba(0,0,0,0.1)\";\n      element.style.color = \"#fff\";\n      element.style.font = \"normal 13px sans-serif\";\n      element.style.textAlign = \"center\";\n      element.style.opacity = \"0.5\";\n      element.style.outline = \"none\";\n      element.style.zIndex = \"999\";\n    }\n\n    if (\"xr\" in navigator && \"supportsSession\" in navigator.xr) {\n      var button = document.createElement(\"button\");\n      button.style.display = \"none\";\n\n      stylizeElement(button);\n\n      navigator.xr.supportsSession(\"immersive-vr\").then(showEnterXR);\n\n      return button;\n    } else if (\"getVRDisplays\" in navigator) {\n      var button = document.createElement(\"button\");\n      button.style.display = \"none\";\n\n      stylizeElement(button);\n\n      window.addEventListener(\n        \"vrdisplayconnect\",\n        function(event) {\n          showEnterVR(event.display);\n        },\n        false\n      );\n\n      window.addEventListener(\n        \"vrdisplaydisconnect\",\n        function(event) {\n          showVRNotFound();\n        },\n        false\n      );\n\n      window.addEventListener(\n        \"vrdisplaypresentchange\",\n        function(event) {\n          button.textContent = event.display.isPresenting\n            ? \"EXIT VR\"\n            : \"ENTER VR\";\n        },\n        false\n      );\n\n      window.addEventListener(\n        \"vrdisplayactivate\",\n        function(event) {\n          event.display.requestPresent([{ source: renderer.domElement }]);\n        },\n        false\n      );\n\n      navigator\n        .getVRDisplays()\n        .then(function(displays) {\n          if (displays.length > 0) {\n            showEnterVR(displays[0]);\n          } else {\n            showVRNotFound();\n          }\n        })\n        .catch(showVRNotFound);\n\n      return button;\n    } else {\n      var message = document.createElement(\"a\");\n      message.href = \"https://webvr.info\";\n      message.innerHTML = \"WEBVR NOT SUPPORTED\";\n\n      message.style.left = \"calc(50% - 90px)\";\n      message.style.width = \"180px\";\n      message.style.textDecoration = \"none\";\n\n      stylizeElement(message);\n\n      return message;\n    }\n  },\n\n  // DEPRECATED\n\n  checkAvailability: function() {\n    console.warn(\"WEBVR.checkAvailability has been deprecated.\");\n    return new Promise(function() {});\n  },\n\n  getMessageContainer: function() {\n    console.warn(\"WEBVR.getMessageContainer has been deprecated.\");\n    return document.createElement(\"div\");\n  },\n\n  getButton: function() {\n    console.warn(\"WEBVR.getButton has been deprecated.\");\n    return document.createElement(\"div\");\n  },\n\n  getVRDisplay: function() {\n    console.warn(\"WEBVR.getVRDisplay has been deprecated.\");\n  }\n};\n\nexport default WEBVR;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAIA,KAAK,GAAG;EACVC,YAAY,EAAE,sBAASC,QAAT,EAAmBC,OAAnB,EAA4B;IACxC,IAAIA,OAAO,IAAIA,OAAO,CAACC,kBAAvB,EAA2C;MACzCF,QAAQ,CAACG,EAAT,CAAYC,qBAAZ,CAAkCH,OAAO,CAACC,kBAA1C;IACD;;IAED,SAASG,WAAT,CAAqBC,MAArB,EAA6B;MAC3BC,MAAM,CAACC,KAAP,CAAaC,OAAb,GAAuB,EAAvB;MAEAF,MAAM,CAACC,KAAP,CAAaE,MAAb,GAAsB,SAAtB;MACAH,MAAM,CAACC,KAAP,CAAaG,IAAb,GAAoB,kBAApB;MACAJ,MAAM,CAACC,KAAP,CAAaI,KAAb,GAAqB,OAArB;MAEAL,MAAM,CAACM,WAAP,GAAqB,UAArB;;MAEAN,MAAM,CAACO,YAAP,GAAsB,YAAW;QAC/BP,MAAM,CAACC,KAAP,CAAaO,OAAb,GAAuB,KAAvB;MACD,CAFD;;MAGAR,MAAM,CAACS,YAAP,GAAsB,YAAW;QAC/BT,MAAM,CAACC,KAAP,CAAaO,OAAb,GAAuB,KAAvB;MACD,CAFD;;MAIAR,MAAM,CAACU,OAAP,GAAiB,YAAW;QAC1BX,MAAM,CAACY,YAAP,GACIZ,MAAM,CAACa,WAAP,EADJ,GAEIb,MAAM,CAACc,cAAP,CAAsB,CAAC;UAAEC,MAAM,EAAErB,QAAQ,CAACsB;QAAnB,CAAD,CAAtB,CAFJ;MAGD,CAJD;;MAMAtB,QAAQ,CAACG,EAAT,CAAYoB,SAAZ,CAAsBjB,MAAtB;IACD;;IAED,SAASkB,WAAT,CAAqBlB,MAArB,EAA6B;MAC3B,IAAImB,cAAc,GAAG,IAArB;;MAEA,SAASC,gBAAT,CAA0BC,OAA1B,EAAmC;QACjCA,OAAO,CAACC,gBAAR,CAAyB,KAAzB,EAAgCC,cAAhC;QAEA7B,QAAQ,CAACG,EAAT,CAAY2B,UAAZ,CAAuBH,OAAvB;QACApB,MAAM,CAACM,WAAP,GAAqB,SAArB;QAEAY,cAAc,GAAGE,OAAjB;MACD;;MAED,SAASE,cAAT,CAAwBE,KAAxB,EAA+B;QAC7BN,cAAc,CAACO,mBAAf,CAAmC,KAAnC,EAA0CH,cAA1C;QAEA7B,QAAQ,CAACG,EAAT,CAAY2B,UAAZ,CAAuB,IAAvB;QACAvB,MAAM,CAACM,WAAP,GAAqB,UAArB;QAEAY,cAAc,GAAG,IAAjB;MACD,CAnB0B,CAqB3B;;;MAEAlB,MAAM,CAACC,KAAP,CAAaC,OAAb,GAAuB,EAAvB;MAEAF,MAAM,CAACC,KAAP,CAAaE,MAAb,GAAsB,SAAtB;MACAH,MAAM,CAACC,KAAP,CAAaG,IAAb,GAAoB,kBAApB;MACAJ,MAAM,CAACC,KAAP,CAAaI,KAAb,GAAqB,OAArB;MAEAL,MAAM,CAACM,WAAP,GAAqB,UAArB;;MAEAN,MAAM,CAACO,YAAP,GAAsB,YAAW;QAC/BP,MAAM,CAACC,KAAP,CAAaO,OAAb,GAAuB,KAAvB;MACD,CAFD;;MAGAR,MAAM,CAACS,YAAP,GAAsB,YAAW;QAC/BT,MAAM,CAACC,KAAP,CAAaO,OAAb,GAAuB,KAAvB;MACD,CAFD;;MAIAR,MAAM,CAACU,OAAP,GAAiB,YAAW;QAC1B,IAAIQ,cAAc,KAAK,IAAvB,EAA6B;UAC3BQ,SAAS,CAACC,EAAV,CAAaC,cAAb,CAA4B,cAA5B,EAA4CC,IAA5C,CAAiDV,gBAAjD;QACD,CAFD,MAEO;UACLD,cAAc,CAACY,GAAf;QACD;MACF,CAND;IAOD;;IAED,SAASC,cAAT,GAA0B;MACxB/B,MAAM,CAACC,KAAP,CAAaC,OAAb,GAAuB,EAAvB;MAEAF,MAAM,CAACC,KAAP,CAAaE,MAAb,GAAsB,MAAtB;MACAH,MAAM,CAACC,KAAP,CAAaG,IAAb,GAAoB,kBAApB;MACAJ,MAAM,CAACC,KAAP,CAAaI,KAAb,GAAqB,OAArB;MAEAL,MAAM,CAACM,WAAP,GAAqB,cAArB;MAEAN,MAAM,CAACO,YAAP,GAAsB,IAAtB;MACAP,MAAM,CAACS,YAAP,GAAsB,IAAtB;MAEAT,MAAM,CAACU,OAAP,GAAiB,IAAjB;MAEAjB,QAAQ,CAACG,EAAT,CAAYoB,SAAZ,CAAsB,IAAtB;IACD;;IAED,SAASgB,cAAT,CAAwBC,OAAxB,EAAiC;MAC/BA,OAAO,CAAChC,KAAR,CAAciC,QAAd,GAAyB,UAAzB;MACAD,OAAO,CAAChC,KAAR,CAAckC,MAAd,GAAuB,MAAvB;MACAF,OAAO,CAAChC,KAAR,CAAcmC,OAAd,GAAwB,UAAxB;MACAH,OAAO,CAAChC,KAAR,CAAcoC,MAAd,GAAuB,gBAAvB;MACAJ,OAAO,CAAChC,KAAR,CAAcqC,YAAd,GAA6B,KAA7B;MACAL,OAAO,CAAChC,KAAR,CAAcsC,UAAd,GAA2B,iBAA3B;MACAN,OAAO,CAAChC,KAAR,CAAcuC,KAAd,GAAsB,MAAtB;MACAP,OAAO,CAAChC,KAAR,CAAcwC,IAAd,GAAqB,wBAArB;MACAR,OAAO,CAAChC,KAAR,CAAcyC,SAAd,GAA0B,QAA1B;MACAT,OAAO,CAAChC,KAAR,CAAcO,OAAd,GAAwB,KAAxB;MACAyB,OAAO,CAAChC,KAAR,CAAc0C,OAAd,GAAwB,MAAxB;MACAV,OAAO,CAAChC,KAAR,CAAc2C,MAAd,GAAuB,KAAvB;IACD;;IAED,IAAI,QAAQlB,SAAR,IAAqB,qBAAqBA,SAAS,CAACC,EAAxD,EAA4D;MAC1D,IAAI3B,MAAM,GAAG6C,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;MACA9C,MAAM,CAACC,KAAP,CAAaC,OAAb,GAAuB,MAAvB;MAEA8B,cAAc,CAAChC,MAAD,CAAd;MAEA0B,SAAS,CAACC,EAAV,CAAaoB,eAAb,CAA6B,cAA7B,EAA6ClB,IAA7C,CAAkDZ,WAAlD;MAEA,OAAOjB,MAAP;IACD,CATD,MASO,IAAI,mBAAmB0B,SAAvB,EAAkC;MACvC,IAAI1B,MAAM,GAAG6C,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;MACA9C,MAAM,CAACC,KAAP,CAAaC,OAAb,GAAuB,MAAvB;MAEA8B,cAAc,CAAChC,MAAD,CAAd;MAEAgD,MAAM,CAAC3B,gBAAP,CACE,kBADF,EAEE,UAASG,KAAT,EAAgB;QACd1B,WAAW,CAAC0B,KAAK,CAACtB,OAAP,CAAX;MACD,CAJH,EAKE,KALF;MAQA8C,MAAM,CAAC3B,gBAAP,CACE,qBADF,EAEE,UAASG,KAAT,EAAgB;QACdO,cAAc;MACf,CAJH,EAKE,KALF;MAQAiB,MAAM,CAAC3B,gBAAP,CACE,wBADF,EAEE,UAASG,KAAT,EAAgB;QACdxB,MAAM,CAACM,WAAP,GAAqBkB,KAAK,CAACtB,OAAN,CAAcS,YAAd,GACjB,SADiB,GAEjB,UAFJ;MAGD,CANH,EAOE,KAPF;MAUAqC,MAAM,CAAC3B,gBAAP,CACE,mBADF,EAEE,UAASG,KAAT,EAAgB;QACdA,KAAK,CAACtB,OAAN,CAAcW,cAAd,CAA6B,CAAC;UAAEC,MAAM,EAAErB,QAAQ,CAACsB;QAAnB,CAAD,CAA7B;MACD,CAJH,EAKE,KALF;MAQAW,SAAS,CACNuB,aADH,GAEGpB,IAFH,CAEQ,UAASqB,QAAT,EAAmB;QACvB,IAAIA,QAAQ,CAACC,MAAT,GAAkB,CAAtB,EAAyB;UACvBrD,WAAW,CAACoD,QAAQ,CAAC,CAAD,CAAT,CAAX;QACD,CAFD,MAEO;UACLnB,cAAc;QACf;MACF,CARH,EASGqB,KATH,CASSrB,cATT;MAWA,OAAO/B,MAAP;IACD,CApDM,MAoDA;MACL,IAAIqD,OAAO,GAAGR,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAd;MACAO,OAAO,CAACC,IAAR,GAAe,oBAAf;MACAD,OAAO,CAACE,SAAR,GAAoB,qBAApB;MAEAF,OAAO,CAACpD,KAAR,CAAcG,IAAd,GAAqB,kBAArB;MACAiD,OAAO,CAACpD,KAAR,CAAcI,KAAd,GAAsB,OAAtB;MACAgD,OAAO,CAACpD,KAAR,CAAcuD,cAAd,GAA+B,MAA/B;MAEAxB,cAAc,CAACqB,OAAD,CAAd;MAEA,OAAOA,OAAP;IACD;EACF,CAxLS;EA0LV;EAEAI,iBAAiB,EAAE,6BAAW;IAC5BC,OAAO,CAACC,IAAR,CAAa,8CAAb;IACA,OAAO,IAAIC,OAAJ,CAAY,YAAW,CAAE,CAAzB,CAAP;EACD,CA/LS;EAiMVC,mBAAmB,EAAE,+BAAW;IAC9BH,OAAO,CAACC,IAAR,CAAa,gDAAb;IACA,OAAOd,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAP;EACD,CApMS;EAsMVgB,SAAS,EAAE,qBAAW;IACpBJ,OAAO,CAACC,IAAR,CAAa,sCAAb;IACA,OAAOd,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAP;EACD,CAzMS;EA2MViB,YAAY,EAAE,wBAAW;IACvBL,OAAO,CAACC,IAAR,CAAa,yCAAb;EACD;AA7MS,CAAZ;AAgNA,eAAepE,KAAf"},"metadata":{},"sourceType":"module"}